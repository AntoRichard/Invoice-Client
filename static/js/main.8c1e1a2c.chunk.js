(this.webpackJsonpinvoiceclient=this.webpackJsonpinvoiceclient||[]).push([[0],{120:function(e,t,a){e.exports=a.p+"static/media/buttonloader.ed25a86a.gif"},216:function(e,t,a){e.exports=a.p+"static/media/loader.ee007598.gif"},250:function(e,t,a){e.exports=a(476)},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},476:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),i=a.n(r),o=a(18),l=a(17),u=a(160),s=a.n(u),m=a(205),d=a(4),f=(a(255),a(256),a(481)),E=a(479),v=(a(257),function(e){var t=e.size,a=void 0===t?"large":t,r=e.placeholder,i=void 0===r?"":r,o=e.icon,l=e.onBlurHandler,u=e.password,s=e.value,m=void 0===s?"":s,v=e.validation,h=void 0===v?function(){}:v,p=e.clickToSubmit,b=void 0===p?function(){}:p,g=Object(n.useState)(m),O=Object(d.a)(g,2),y=O[0],j=O[1],S=Object(n.useState)(!1),N=Object(d.a)(S,2),I=N[0],T=N[1],k=Object(n.useState)(""),w=Object(d.a)(k,2),C=w[0],x=w[1],D=u?f.a.Password:f.a;return c.a.createElement(E.a.Item,null,c.a.createElement(D,{size:a,placeholder:i,prefix:o,onChange:function(e){return j(e.target.value)},onKeyUp:function(e){13===e.keyCode&&b()},value:y,onBlur:function(){if(!0===h(y))return T(!1),l(y);T(!0),x(h(y))}}),I&&c.a.createElement("div",{className:"input-error"},C))}),h=a(32),p=function(e){var t=e.secondary,a=void 0!==t&&t,n=e.label,r=void 0===n?"":n,i=e.children,o=e.onClickHandler,l=e.type,u=void 0===l?"button":l,s=e.width,m=void 0===s?375:s,d=e.disabled,f=void 0!==d&&d,E={color:a?"#ff0000":"#ffffff",backgroundColor:a?"#ffffff":"#0e2659",width:m};return c.a.createElement(h.a,{size:"large",htmlType:u,style:E,onClick:o,disabled:f},i||r)},b=a(78),g=a(79),O=a(161),y=a.n(O),j=y.a.create({baseURL:"https://historic-joshua-tree-28441.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}});j.interceptors.request.use((function(e){var t=localStorage.getItem("TOKEN");return e.headers.Authorization="Bearer ".concat(t),e})),y.a.interceptors.response.use((function(e){var t=localStorage.getItem("TOKEN");return e.headers.Authorization="Bearer ".concat(t),e}));var S=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,null,[{key:"SignupService",value:function(e,t,a,n,c){return t(),j.post("/signup",e).then(a).catch(n).finally(c)}},{key:"SigninService",value:function(e,t,a,n,c){return t(),j.post("/signin",e).then(a).catch(n).finally(c)}},{key:"getUserService",value:function(e,t,a,n){return e(),j.get("/user").then(t).catch(a).finally(n)}},{key:"getAllUsersService",value:function(e,t,a,n){return e(),j.get("/users").then(t).catch(a).finally(n)}},{key:"deleteUserService",value:function(e,t,a,n,c){return t(),j.get("user/".concat(e)).then(a).catch(n).finally(c)}}]),e}(),N=a(482),I=a(483),T=a(484),k=function(e){if(!e.length)return"*This feild is mandatory";return!!e.match(/^[A-Z a-z]+$/)||"This feild should not contain special characters or numbers"},w=function(e){if(!e.length)return"*This feild is mandatory";return!!e.match(/^[A-Z a-z 0-9]+$/)||"This feild should not contain special characters"},C=function(e){return e.length?!isNaN(e)||"This feild should not contain special characters or letters":"*This feild is mandatory"},x=function(e){if(!e.length)return"*This feild is mandatory.";return!!e.match(/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/)||"Please enter a valid email id"},D=function(e){return e.length?!(e.length<8)||"password must contain more than 7 characters.":"*This feild is mandatory."},Y=a(480),A=function(e,t,a){Y.a[e]({message:t,description:a})},M=a(120),B=a.n(M),U=function(e){var t=e.updateLogin,a=Object(n.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),s=u[0],m=u[1],f=Object(n.useState)(""),E=Object(d.a)(f,2),h=E[0],b=E[1],g=Object(n.useState)(""),O=Object(d.a)(g,2),y=O[0],j=O[1],w=Object(n.useState)(!1),C=Object(d.a)(w,2),Y=C[0],M=C[1],U=function(){if(h!==y)return A("warning","Signup","Password and conform password does not match.");if(!0===k(i)&&!0===x(s)&&!0===D(h)){var e={username:i,email:s,password:h};S.SignupService(e,(function(){M(!0)}),(function(e){if(e)return A("success","Signup","User created successfully."),M(!0),M(!1),t()}),(function(e){console.log(e),M(!1),A("error","Signup","E-mail id already taken or Issue with creating an user")}),(function(){m(""),b(""),j(""),o("")}))}else A("error","Signup","Should Enter a valid data to signup.")};return c.a.createElement("div",{className:"signup-container"},c.a.createElement("h1",{style:{paddingTop:10,paddingBottom:30}},"Sign Up"),c.a.createElement("div",{style:{marginTop:20,marginBottom:20}},c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Username",icon:c.a.createElement(N.a,null),onBlurHandler:function(e){return o(e)},value:i,validation:k,clickToSubmit:U})),c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Email",icon:c.a.createElement(I.a,null),onBlurHandler:function(e){return m(e)},value:s,validation:x,clickToSubmit:U})),c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Password",icon:c.a.createElement(T.a,null),password:!0,onBlurHandler:function(e){return b(e)},value:h,validation:D,clickToSubmit:U})),c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Conform Password",icon:c.a.createElement(T.a,null),password:!0,onBlurHandler:function(e){return j(e)},value:y,validation:D,clickToSubmit:U})),c.a.createElement(p,{type:"submit",onClickHandler:U},"Signup",Y&&c.a.createElement("img",{src:B.a,alt:"Loading . . . ",height:25,width:25}))),c.a.createElement("div",null,c.a.createElement("p",null,"Alredy have an account ",c.a.createElement("a",{href:null,onClick:t},"Login"))))},L=a(69),H=function(e,t){switch(t.type){case"SET_IS_AUTHENTICATED":return Object(L.a)(Object(L.a)({},e),{},{isAuthenticated:t.payload});case"SET_USER_DETAILS":return Object(L.a)(Object(L.a)({},e),{},{user:t.payload});default:return e}},z={isAuthenticated:!1,user:{email:"",username:"",admin:!1}},_=Object(n.createContext)(),P=function(e){var t=Object(n.useReducer)(H,z),a=Object(d.a)(t,2),r=a[0],i=a[1];return c.a.createElement(_.Provider,{value:{state:r,dispatch:i}},e.children)},R=a(485),F=Object(l.g)((function(e){var t=e.updateSignup,a=Object(n.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),s=u[0],m=u[1],f=Object(n.useState)(!1),E=Object(d.a)(f,2),h=E[0],b=E[1],g=Object(n.useContext)(_).dispatch,O=function(){if(!0===x(i)&&!0===D(s)){var t={email:i,password:s};S.SigninService(t,(function(){b(!0)}),(function(t){if(t.data.success&&t.data.token)return localStorage.setItem("TOKEN",t.data.token),g({type:"SET_IS_AUTHENTICATED",payload:!0}),g({type:"SET_USER_DETAILS",payload:t.data.user}),A("success","Login","Login successful."),b(!1),e.history.push("/dashboard/home")}),(function(e){console.log(e),A("error","Login","Login failed."),b(!1)}),(function(){o(""),m("")}))}else A("error","Login","Should Enter a valid data to signin.")};return c.a.createElement("div",{className:"signup-container"},c.a.createElement("h1",{style:{paddingTop:10,paddingBottom:30}},"Login"),c.a.createElement("div",{style:{marginTop:20,marginBottom:20}},c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Email",icon:c.a.createElement(I.a,null),onBlurHandler:function(e){return o(e)},value:i,validation:x,clickToSubmit:O})),c.a.createElement("div",{style:{marginBottom:15,padding:"0px 30px"}},c.a.createElement(v,{placeholder:"Enter Password",icon:c.a.createElement(R.a,null),password:!0,onBlurHandler:function(e){return m(e)},value:s,validation:D,clickToSubmit:O})),c.a.createElement(p,{onClickHandler:O}," ","Login",h&&c.a.createElement("img",{src:B.a,alt:"Loading. . . ",height:25,width:25}))),c.a.createElement("div",null,c.a.createElement("p",null,"Create an account ",c.a.createElement("a",{onClick:t},"signup"))))})),K=a(215),Z=a.n(K),$=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(50),o=Object(d.a)(i,2),l=o[0],u=o[1],f=Object(n.useState)(50),E=Object(d.a)(f,2),v=E[0],h=E[1],p=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(0);case 1:if(!(l<=102)){e.next=6;break}return e.next=4,new Promise((function(e){setTimeout((function(){u((function(e){return e+1})),e()}),2)}));case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"landingpage-container"},c.a.createElement("div",{className:"landingpage-name",style:{width:"".concat(l,"%")}},c.a.createElement(Z.a,null,c.a.createElement("h1",{className:"landingpage-brand"},"Root Quotient"))),c.a.createElement("div",{className:"landingpage-form-container",style:{width:"".concat(v,"%")}},a?c.a.createElement(F,{updateSignup:function(){return r(!1)},onLogin:p}):c.a.createElement(U,{updateLogin:function(){return r(!0)}})))},J=a(486),Q=a(487),W=a(488),q=(a(403),function(){var e=Object(n.useContext)(_).dispatch,t={icon:{fontSize:"20px",color:"white",paddingRight:10}};return c.a.createElement("div",{className:"sidebar-inner-container"},c.a.createElement("div",{style:{paddingLeft:10}},c.a.createElement("h1",{className:"product-name"},"Root Quotient")),c.a.createElement("div",{className:"sidebar-nav"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(o.b,{to:"/dashboard/home"},c.a.createElement(J.a,{style:t.icon})," ",c.a.createElement("span",{className:"sidebar-text"},"Home"))),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/dashboard/metric"},c.a.createElement(Q.a,{style:t.icon})," ",c.a.createElement("span",{className:"sidebar-text"},"Metric"))),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/dashboard/profile"},c.a.createElement(N.a,{style:t.icon})," ",c.a.createElement("span",{className:"sidebar-text"},"Profile"))),c.a.createElement("li",{className:"logout-button"},c.a.createElement(o.b,{to:"/",onClick:function(){e({action:"SET_IS_AUTHENTICATED",payload:!1}),e({action:"SET_USER_DETAILS",payload:null}),localStorage.clear()}},c.a.createElement(W.a,{style:t.icon})," ",c.a.createElement("span",{className:"sidebar-text"},"Logout"))))))}),V=a(54),G=a.n(V),X=a(13),ee=a.n(X),te=(a(404),function(e){var t=e.amount,a=Object(n.useContext)(_).state.user,r=a.username,i=a.admin;return c.a.createElement("div",{className:"customer-details"},c.a.createElement("div",{className:"customer-name"},!i&&c.a.createElement("p",null,"CUSTOMER"),c.a.createElement("h2",null,r[0].toUpperCase()+r.slice(1))),c.a.createElement("div",{className:"secondary-details"},c.a.createElement("div",{className:"customer-amount",style:{paddingRight:15}},c.a.createElement("p",null,"TOTAL AMOUNT"),c.a.createElement("h2",null,"Rs. ",G.a.format(t))),c.a.createElement("div",{className:"customer-date"},c.a.createElement("p",null,"DATE"),c.a.createElement("h2",null,ee()(new Date).format("DD-MM-YYYY")))))}),ae=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,null,[{key:"getInvoices",value:function(e,t,a,n){return e(),j.get("/invoice").then(t).catch(a).finally(n)}},{key:"getOneInvoices",value:function(e,t,a,n,c){return t(),j.get("/invoice/".concat(e)).then(a).catch(n).finally(c)}},{key:"postInvoice",value:function(e,t,a,n,c){return t(),j.post("/invoice",e).then(a).catch(n).finally(c)}},{key:"patchInvoice",value:function(e,t,a,n,c){return t(),j.patch("/invoice",e).then(a).catch(n).finally(c)}},{key:"deleteInvoice",value:function(e,t,a,n,c){return t(),j.delete("/invoice/".concat(e)).then(a).catch(n).finally(c)}},{key:"sortInvoice",value:function(e,t,a,n,c){return t(),j.get("/invoices/sort?desc=".concat(e.desc,"&asec=").concat(e.aesc)).then(a).catch(n).finally(c)}},{key:"filterInvoice",value:function(e,t,a,n,c){return t(),j.get("/invoices/filter?start=".concat(e.start,"&end=").concat(e.end)).then(a).catch(n).finally(c)}},{key:"filterAndSortInvoice",value:function(e,t,a,n,c){return t(),j.get("/invoices?asec=".concat(e.aesc,"&desc=").concat(e.desc,"&start=").concat(e.start,"&end=").concat(e.end)).then(a).catch(n).finally(c)}}]),e}(),ne=a(216),ce=a.n(ne),re=(a(405),function(e){var t=e.show,a=c.a.createElement("div",{className:"loader-container"},c.a.createElement("img",{src:ce.a,alt:"Loading . . .",className:"loader-small"}));return c.a.createElement(n.Fragment,null,t&&a)}),ie=a(477),oe=a(68),le=a(478),ue=a(132),se=a(489),me=a(490),de=a(491),fe=(a(406),ie.a.Column),Ee=Object(l.g)((function(e){var t=e.setAmount,a=Object(n.useState)([]),r=Object(d.a)(a,2),i=r[0],l=r[1],u=Object(n.useState)([]),s=Object(d.a)(u,2),m=s[0],f=s[1],E=Object(n.useState)(!1),v=Object(d.a)(E,2),p=v[0],b=v[1],g=Object(n.useState)("Sort by"),O=Object(d.a)(g,2),y=O[0],j=O[1],N=Object(n.useState)({}),I=Object(d.a)(N,2),T=I[0],k=I[1],w=Object(n.useState)("0"),C=Object(d.a)(w,2),x=C[0],D=C[1],Y=Object(n.useState)("0"),M=Object(d.a)(Y,2),B=M[0],U=M[1],H=Object(n.useContext)(_).state,z=function(){ae.getInvoices((function(){b(!0)}),(function(e){l(e.data.data);var a=e.data.data.reduce((function(e,t){return e+t.amount}),0);t(a)}),(function(t){e.history.push("/")}),(function(){b(!1)}))},P=function(e,a){e(a,(function(){b(!0)}),(function(e){l(e.data.data);var a=e.data.data.reduce((function(e,t){return e+t.amount}),0);t(a)}),(function(e){console.error(e)}),(function(){b(!1)}))};Object(n.useEffect)((function(){z(),H.user.admin&&S.getAllUsersService((function(){b(!0)}),(function(e){var t=e.data.users;f(t),b(!1)}),(function(t){b(!1),e.history.push("/")}),(function(){}))}),[]);if(p)return c.a.createElement(re,{show:p});var R=function(e){if(null===e)return z(),D("0"),U("0"),j("Sort by");e?(k({aesc:1,desc:0}),P(ae.filterAndSortInvoice,{start:x,end:B,desc:0,aesc:1}),j("Older")):(k({aesc:0,desc:1}),P(ae.filterAndSortInvoice,{start:x,end:B,desc:1,aesc:0}),j("Newer"))},F=c.a.createElement(oe.a,null,c.a.createElement(oe.a.Item,null,c.a.createElement("p",{onClick:function(){return R(null)}},"Default")),c.a.createElement(oe.a.Item,null,c.a.createElement("p",{onClick:function(){return R(!0)}},"Older")),c.a.createElement(oe.a.Item,null,c.a.createElement("p",{onClick:function(){return R(!1)}},"Newer"))),K=le.a.RangePicker,Z=function(e){return"0"===e?null:ee()(new Date(e),"DD-MM-YYYY")};return c.a.createElement("div",{className:"invoice-container"},c.a.createElement("div",{className:"invoice-inner-container"},c.a.createElement("div",null,c.a.createElement("h2",null,"Invoices"),c.a.createElement("div",null,c.a.createElement("div",{style:{margin:"10px 20px",position:"absolute",right:200}},c.a.createElement(ue.a,{overlay:F},c.a.createElement(h.a,null,y,c.a.createElement(se.a,null)))," ",c.a.createElement(K,{ranges:{Today:[ee()(),ee()()],"This Month":[ee()().startOf("month"),ee()().endOf("month")]},value:[Z(x),Z(B)],onChange:function(e,t){D(t[0]),U(t[1]),P(ae.filterAndSortInvoice,Object(L.a)({start:t[0],end:t[1]},T))}})))),c.a.createElement("div",{className:"invoice-table"},c.a.createElement(ie.a,{dataSource:i,pagination:{defaultPageSize:5}},H.user.admin&&m.length?c.a.createElement(fe,{title:"User Name",dataIndex:"userid",key:"userid",render:function(e){return m.filter((function(t){return t._id===e}))[0].username}}):c.a.createElement("p",null),c.a.createElement(fe,{title:"Invoice Name",dataIndex:"name",key:"name"}),c.a.createElement(fe,{title:"Invoice Date",dataIndex:"date",key:"date",render:function(e){return c.a.createElement("p",{key:e},ee()(e).format("DD-MM-YYYY"))}}),c.a.createElement(fe,{title:"Invoice Amount",dataIndex:"amount",key:"amount",render:function(e){return"Rs. ".concat(G.a.format(e))}}),!H.user.admin&&c.a.createElement(n.Fragment,null,c.a.createElement(fe,{title:"Edit",render:function(e){var t="/dashboard/update/".concat(e._id);return c.a.createElement(o.b,{to:t,key:e._id},c.a.createElement(me.a,{style:{color:"orange",fontSize:18}}))}}," "),c.a.createElement(fe,{title:"Delete",render:function(e){return c.a.createElement(de.a,{style:{color:"tomato",fontSize:18},onClick:function(){return function(e){var t=e._id;ae.deleteInvoice(t,(function(){}),(function(e){e&&(l((function(e){return e.filter((function(e){return e._id!==t}))})),A("success","Invoice","Invoice deleted successfully."))}),(function(e){A("error","Invoice","Issue while deleting the invoice.")}),(function(){}))}(e)}})}}," "))))))})),ve=a(492),he=(a(467),function(){var e=Object(n.useContext)(_).state,t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],i=a[1];return c.a.createElement("div",{style:{backgroundColor:"red"}},c.a.createElement("div",{className:"customer-detail-container"},c.a.createElement(te,{amount:r}),c.a.createElement(Ee,{setAmount:function(e){return i(e)}})),!e.user.admin&&c.a.createElement("div",{className:"create-invoice"},c.a.createElement(o.b,{to:"/dashboard/create"},c.a.createElement(ve.a,{style:{color:"white",fontSize:26,paddingTop:12}}))))}),pe={input:{marginBottom:22,width:"100%"}},be=function(e){var t=e.size,a=void 0===t?"large":t,r=e.placeholder,i=void 0===r?"":r,o=e.type,l=void 0===o?"text":o,u=e.value,s=void 0===u?"":u,m=e.validation,E=void 0===m?function(){}:m,v=e.onChangeHander,h=void 0===v?function(){}:v,p=Object(n.useState)(""),b=Object(d.a)(p,2),g=b[0],O=b[1],y=Object(n.useState)(null),j=Object(d.a)(y,2),S=j[0],N=j[1];Object(n.useEffect)((function(){O(s)}),[s]);return c.a.createElement("div",null,c.a.createElement(f.a,{style:pe.input,size:a,placeholder:i,type:l,value:s,onChange:function(e){O(e.target.value),h(e.target.value)},onBlur:function(){setTimeout((function(){!0===E(g)?N(!1):N(E(g))}),500)}}),S&&c.a.createElement("div",{style:{float:"left",color:"tomato"}}," ",c.a.createElement("p",{styles:{marginTop:-1}},S)))},ge=(a(468),{input:{marginBottom:22,width:"100%"}}),Oe=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)(ee()(new Date,"DD-MM-YYYY")),m=Object(d.a)(s,2),f=m[0],E=m[1],v=function(e,t,a){Y.a[e]({message:t,description:a})};return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"create-invoice-conainer"},c.a.createElement("h1",{className:"create-invoice-title"},"Create Invoice"),c.a.createElement("div",{className:"create-invoice-form"},c.a.createElement(be,{placeholder:"Enter Invoice Name",value:a,onChangeHander:function(e){return r(e)},validation:w}),c.a.createElement(be,{placeholder:"Enter Invoice Amount",type:"number",value:l,onChangeHander:function(e){return u(e)},validation:C}),c.a.createElement(le.a,{size:"large",style:ge.input,onChange:function(e,t){return E(ee()(new Date(t),"DD-MM-YYYY"))},defaultValue:ee()(new Date,"DD-MM-YYYY"),value:f}),c.a.createElement(p,{width:"100%",onClickHandler:function(){if(!0===w(a)&&!0===C(l)){var e={name:a,amount:l,date:f};ae.postInvoice(e,(function(){}),(function(e){e.data.success&&v("success","Invoice","Invoice created successfully.")}),(function(e){v("error","Invoice","Failed to create Invoice.")}),(function(){r(""),u(""),E(ee()(new Date,"DD-MM-YYYY"))}))}else v("error","Error Notification","valid data should be entered in Invoice name and amount.")}},"Create Invoice"))))},ye=a(493),je=(a(469),Object(l.g)((function(e){return c.a.createElement("div",{className:"navbar-container"},c.a.createElement(ye.a,{className:"back-button",onClick:function(){return e.history.goBack()}}))}))),Se=(a(470),{input:{marginBottom:22,width:"100%"}}),Ne=Object(l.g)((function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(ee()(new Date,"DD-MM-YYYY")),f=Object(d.a)(m,2),E=f[0],v=f[1];Object(n.useEffect)((function(){var t=e.match.params.id;ae.getOneInvoices(t,(function(){}),(function(e){var t=e.data.data;i(t[0].name),s(t[0].amount),v(ee()(new Date(t[0].date),"DD-MM-YYYY"))}),(function(t){e.history.push("/")}),(function(){}))}),[]);var h=function(e,t,a){Y.a[e]({message:t,description:a})};return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{className:"create-invoice-conainer"},c.a.createElement("h1",{className:"create-invoice-title"},"Update Invoice"),c.a.createElement("div",{className:"create-invoice-form"},c.a.createElement(be,{placeholder:"Enter Invoice Name",value:r,onChangeHander:function(e){return i(e)},validation:w}),c.a.createElement(be,{placeholder:"Enter Invoice Amount",type:"number",value:u,onChangeHander:function(e){return s(e)},validation:C}),c.a.createElement(le.a,{size:"large",style:Se.input,value:ee()(new Date(E),"YYY-MM-DD")}),c.a.createElement(p,{width:"100%",onClickHandler:function(){if(!0===w(r)&&!0===C(u)){var t={name:r,amount:u,date:E,id:e.match.params.id};ae.patchInvoice(t,(function(){}),(function(e){e.data.success&&h("success","Invoice","Invoice updated successfully.")}),(function(e){h("error","Invoice","Failed to create Invoice.")}),(function(){i(""),s(""),v(ee()(new Date,"DD-MM-YYYY"))}))}else h("error","Error Notification","valid data should be entered in Invoice name and amount.")}},"Update Invoice"))))})),Ie=a(130),Te=a.n(Ie),ke=(a(472),function(e){var t=e.data,a=e.title,n={chart:{height:450,width:"100%",type:"bar",backgroundColor:"white"},xaxis:{categories:Object.keys(t),gridLineWidth:0},fill:{colors:["#0e2659"]},dataLables:{enabled:!1},title:{text:a,align:"center",margin:20,offsetY:20,style:{fontSize:"25px"}}},r=[{name:"Number of Invoices",data:Object.values(t),gridLineWidth:0}];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(Te.a,{options:n,series:r,type:"bar",width:650,height:500})))}),we=(a(473),function(e){var t=e.data,a=Object(n.useContext)(_).state,r=t.length,i=t.map((function(e){return Math.floor(e%r*100)})),o={series:a.user.admin?i:t,options:{chart:{type:"donut"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}};return c.a.createElement("div",null,c.a.createElement(Te.a,{options:o.options,series:o.series,type:"donut",width:450,height:450}))}),Ce=Object(l.g)((function(e){var t=e.invoicesProp,a=Object(n.useState)([]),r=Object(d.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(t),u=Object(d.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){S.getAllUsersService((function(){}),(function(e){o(e.data.users)}),(function(t){e.history.push("/")}),(function(){}))}),[]);return Object(n.useEffect)((function(){m(t)}),[t]),c.a.createElement("div",{className:"card-container",style:{marginBottom:50}},c.a.createElement("div",{className:"invoice-card"},c.a.createElement(ke,{data:function(){var e={};return i.forEach((function(t){var a=s.filter((function(e){return e.userid===t._id}));"Administrator"!==t.username&&(e[t.username]=a.length)})),e}(),title:"Customer Summary"})))})),xe=Object(l.g)((function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({}),o=Object(d.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)(""),m=Object(d.a)(s,2),f=m[0],E=m[1],v=Object(n.useState)([]),h=Object(d.a)(v,2),p=h[0],b=h[1],g=Object(n.useState)(0),O=Object(d.a)(g,2),y=O[0],j=O[1],S=Object(n.useContext)(_).state;return Object(n.useEffect)((function(){var e;ae.getInvoices((function(){E(!0)}),(function(e){r(e.data.data)}),(function(t){console.error(t),e.history.push("/")}),(function(){E(!1)}))}),[]),Object(n.useEffect)((function(){!function(){var e={},t=[],n=0;a.forEach((function(a){var c=ee()(a.date).format("MMM DD,YYYY");e[c]>0?e[c]+=1:e[c]=1,t.push(a.amount),n+=a.amount})),u(e),b(t),j(n)}()}),[a]),f?c.a.createElement(re,{show:f}):c.a.createElement("div",{className:"metric-container"},c.a.createElement("div",{className:"pie-chart-container"},c.a.createElement("div",{className:"pie-chart-details"},c.a.createElement("div",{className:"pie-chart-card"},c.a.createElement("h2",null,"Total Invoices"),c.a.createElement("p",null,a.length)),c.a.createElement("div",{className:"pie-chart-card"},c.a.createElement("h2",null,"Total Amount"),c.a.createElement("p",null,"Rs. ",G.a.format(y)))),c.a.createElement("div",{className:"pie-chart-details"},c.a.createElement("div",{className:"pie-chart"},c.a.createElement(we,{data:p})))),c.a.createElement("div",{className:"card-container",style:{marginBottom:50}},c.a.createElement("div",{className:"invoice-card"},c.a.createElement(ke,{data:l,title:"Invoice Summary"}))),S.user.admin&&c.a.createElement(Ce,{invoicesProp:a}))})),De=(a(474),function(){var e=Object(n.useContext)(_).state,t=Object(n.useState)(0),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(0),u=Object(d.a)(o,2),s=u[0],m=u[1],f=Object(n.useState)(!1),E=Object(d.a)(f,2),v=E[0],h=E[1];Object(n.useEffect)((function(){ae.getInvoices((function(){h(!0)}),(function(e){var t=e.data.data;return i(t.length),m(t.reduce((function(e,t){return e+t.amount}),0)),h(!1),c.a.createElement(l.a,{to:"/"})}),(function(e){h(!1)}),(function(){}))}),[]);return v?c.a.createElement(re,{show:v}):c.a.createElement("div",{className:"profile-container"},c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Profile"),c.a.createElement("hr",null)),c.a.createElement("div",{style:{marginTop:20,marginLeft:20}},c.a.createElement("p",null,"Username: ",c.a.createElement("h4",null,e.user.username)," "),c.a.createElement("p",null,"Email: ",c.a.createElement("h4",null,e.user.email)," "),c.a.createElement("p",null,"No of invoices:",c.a.createElement("h4",null,r)," "),c.a.createElement("p",null,"Total amount: ",c.a.createElement("h4",null,"Rs.",G.a.format(s))," ")),!e.user.admin&&c.a.createElement("div",{style:{textAlign:"center",marginTop:20}},c.a.createElement(p,{secondary:!0,width:250,onClickHandler:function(){S.deleteUserService((function(){}),(function(e){if(e)return A("success","User Deletion","User deleted successfully."),c.a.createElement(l.a,{to:"/"})}),(function(e){A("error","User Deletion","User deleting failed.")}),(function(){}))}},"DELETE ACCOUNT"))))}),Ye=function(){return c.a.createElement("div",{className:"dashboard-container"},c.a.createElement("div",{className:"sidebar-container"},c.a.createElement(q,null)),c.a.createElement("div",{className:"content-container"},c.a.createElement(je,null),c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/dashboard/home",component:function(e){return c.a.createElement(he,e)}}),c.a.createElement(l.b,{path:"/dashboard/create",component:function(e){return c.a.createElement(Oe,e)}}),c.a.createElement(l.b,{path:"/dashboard/update/:id",component:function(e){return c.a.createElement(Ne,e)}}),c.a.createElement(l.b,{path:"/dashboard/metric",component:function(e){return c.a.createElement(xe,e)}}),c.a.createElement(l.b,{path:"/dashboard/profile",component:function(e){return c.a.createElement(De,e)}}),c.a.createElement(l.b,{path:"/dashboard/*",render:function(){return c.a.createElement(l.a,{to:"/dashboard/home"})}}),c.a.createElement(l.b,{path:"*",render:function(){return c.a.createElement(l.a,{to:"/"})}}))))},Ae=a(245),Me=function(e){var t=e.Component,a=e.path,r=Object(Ae.a)(e,["Component","path"]),i=Object(n.useContext)(_).state;return c.a.createElement(n.Fragment,null,i.isAuthenticated||localStorage.getItem("TOKEN")?c.a.createElement(l.b,Object.assign({component:function(e){return c.a.createElement(t,e)},path:a},r)):c.a.createElement(l.a,{to:"/"}))},Be=a(246),Ue=a(242),Le=function(e){Object(Be.a)(a,e);var t=Object(Ue.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(g.a)(a,[{key:"render",value:function(){return this.state.hasError?c.a.createElement("div",{style:{textAlign:"center",marginTop:"20%"}},c.a.createElement("h1",null,"Oops Page Not Found!"),c.a.createElement("p",null,"This may also happen if you refresh the page.")):c.a.createElement("div",null,this.props.children)}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),He=(a(475),function(){return c.a.createElement(Le,null,c.a.createElement(o.a,null,c.a.createElement(l.d,null,c.a.createElement(Me,{path:"/dashboard",Component:function(e){return c.a.createElement(Ye,e)}}),c.a.createElement(l.b,{path:"/",component:function(e){return c.a.createElement($,e)}}),c.a.createElement(l.b,{path:"*",render:function(){return c.a.createElement(l.a,{to:"/signup"})}}))))});i.a.render(c.a.createElement(P,null,c.a.createElement(He,null)),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.8c1e1a2c.chunk.js.map